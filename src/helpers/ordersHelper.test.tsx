import React from 'react';
import {parseInitialOrders, parseOrdersDelta} from './ordersHelper';

test('validates parseInitialOrders', () => {
    const newOrders1 = parseInitialOrders({
        bidsArr: [[30722.5,5646],[30722,1200],[30721.5,5496],[30720.5,7385],[30716,1981],[30715.5,30000],[30714.5,10698],[30714,10451],[30713.5,18465],[30713,5539],[30712,1866],[30711,60202],[30710.5,20000],[30710,2500],[30706,5000],[30705.5,1996],[30704.5,4023],[30703.5,199],[30703,2950],[30702.5,3882],[30698.5,11086],[30697,114097],[30696.5,20000],[30695,320961],[30694.5,24584],[30692.5,152048],[30691,199],[30690.5,20000],[30690,2500],[30689.5,115219],[30689,150000],[30687.5,22369],[30687,5152],[30684.5,251968],[30682,3045],[30679.5,19908],[30676.5,1984],[30672.5,2933],[30664.5,1958],[30657,2024],[30643,500001],[30623,1928],[30582.5,241130],[30579.5,1020],[30256.5,470100],[30256,200003],[30112.5,55000]],
        asksArr: [[30733,334],[30735.5,1976],[30737,1910],[30738,1410],[30739,77429],[30740,1200],[30741.5,7198],[30742,2077],[30744.5,4412],[30745,1987],[30745.5,164084],[30746.5,4557],[30748,4674],[30751,8187],[30751.5,2500],[30752,78754],[30752.5,41527],[30753,6056],[30754,20000],[30755.5,5000],[30756,5000],[30757.5,2330],[30759,5],[30759.5,22022],[30761.5,12481],[30762,5377],[30763,5],[30766,3013],[30766.5,22056],[30770.5,117475],[30775.5,161],[30779.5,251977],[30780.5,2024],[30782,7500],[30783,11086],[30788,2400],[30793,123941],[30808,1940],[30810.5,25386],[30814.5,500001],[30818.5,800],[30820,45990],[30827.5,2230],[30884.5,256449],[30916,612002],[31059.5,479550]],
        levelSizeFloat: 1,
        maxRows: 32,
    });

    expect(newOrders1).toStrictEqual(
        {"bids":[{"price":30722.5,"size":6846,"total":6846},{"price":30721.5,"size":5496,"total":12342},{"price":30720.5,"size":7385,"total":19727},{"price":30716,"size":31981,"total":51708},{"price":30714.5,"size":21149,"total":72857},{"price":30713.5,"size":24004,"total":96861},{"price":30712,"size":1866,"total":98727},{"price":30711,"size":80202,"total":178929},{"price":30710,"size":2500,"total":181429},{"price":30706,"size":6996,"total":188425},{"price":30704.5,"size":4023,"total":192448},{"price":30703.5,"size":3149,"total":195597},{"price":30702.5,"size":3882,"total":199479},{"price":30698.5,"size":11086,"total":210565},{"price":30697,"size":134097,"total":344662},{"price":30695,"size":345545,"total":690207},{"price":30692.5,"size":152048,"total":842255},{"price":30691,"size":20199,"total":862454},{"price":30690,"size":117719,"total":980173},{"price":30689,"size":150000,"total":1130173},{"price":30687.5,"size":27521,"total":1157694},{"price":30684.5,"size":251968,"total":1409662},{"price":30682,"size":3045,"total":1412707},{"price":30679.5,"size":19908,"total":1432615},{"price":30676.5,"size":1984,"total":1434599},{"price":30672.5,"size":2933,"total":1437532},{"price":30664.5,"size":1958,"total":1439490},{"price":30657,"size":2024,"total":1441514},{"price":30643,"size":500001,"total":1941515},{"price":30623,"size":1928,"total":1943443},{"price":30582.5,"size":241130,"total":2184573},{"price":30579.5,"size":1020,"total":2185593}],"bidsOriginal":[[30722.5,5646],[30722,1200],[30721.5,5496],[30720.5,7385],[30716,1981],[30715.5,30000],[30714.5,10698],[30714,10451],[30713.5,18465],[30713,5539],[30712,1866],[30711,60202],[30710.5,20000],[30710,2500],[30706,5000],[30705.5,1996],[30704.5,4023],[30703.5,199],[30703,2950],[30702.5,3882],[30698.5,11086],[30697,114097],[30696.5,20000],[30695,320961],[30694.5,24584],[30692.5,152048],[30691,199],[30690.5,20000],[30690,2500],[30689.5,115219],[30689,150000],[30687.5,22369],[30687,5152],[30684.5,251968],[30682,3045],[30679.5,19908],[30676.5,1984],[30672.5,2933],[30664.5,1958],[30657,2024],[30643,500001],[30623,1928],[30582.5,241130],[30579.5,1020],[30256.5,470100],[30256,200003],[30112.5,55000]],"asks":[{"price":30733,"size":334,"total":334},{"price":30735.5,"size":1976,"total":2310},{"price":30737,"size":1910,"total":4220},{"price":30738,"size":1410,"total":5630},{"price":30739,"size":77429,"total":83059},{"price":30740,"size":1200,"total":84259},{"price":30741.5,"size":9275,"total":93534},{"price":30744.5,"size":6399,"total":99933},{"price":30745.5,"size":164084,"total":264017},{"price":30746.5,"size":4557,"total":268574},{"price":30748,"size":4674,"total":273248},{"price":30751,"size":10687,"total":283935},{"price":30752,"size":120281,"total":404216},{"price":30753,"size":6056,"total":410272},{"price":30754,"size":20000,"total":430272},{"price":30755.5,"size":10000,"total":440272},{"price":30757.5,"size":2330,"total":442602},{"price":30759,"size":22027,"total":464629},{"price":30761.5,"size":17858,"total":482487},{"price":30763,"size":5,"total":482492},{"price":30766,"size":25069,"total":507561},{"price":30770.5,"size":117475,"total":625036},{"price":30775.5,"size":161,"total":625197},{"price":30779.5,"size":251977,"total":877174},{"price":30780.5,"size":2024,"total":879198},{"price":30782,"size":7500,"total":886698},{"price":30783,"size":11086,"total":897784},{"price":30788,"size":2400,"total":900184},{"price":30793,"size":123941,"total":1024125},{"price":30808,"size":1940,"total":1026065},{"price":30810.5,"size":25386,"total":1051451},{"price":30814.5,"size":500001,"total":1551452}],"asksOriginal":[[30733,334],[30735.5,1976],[30737,1910],[30738,1410],[30739,77429],[30740,1200],[30741.5,7198],[30742,2077],[30744.5,4412],[30745,1987],[30745.5,164084],[30746.5,4557],[30748,4674],[30751,8187],[30751.5,2500],[30752,78754],[30752.5,41527],[30753,6056],[30754,20000],[30755.5,5000],[30756,5000],[30757.5,2330],[30759,5],[30759.5,22022],[30761.5,12481],[30762,5377],[30763,5],[30766,3013],[30766.5,22056],[30770.5,117475],[30775.5,161],[30779.5,251977],[30780.5,2024],[30782,7500],[30783,11086],[30788,2400],[30793,123941],[30808,1940],[30810.5,25386],[30814.5,500001],[30818.5,800],[30820,45990],[30827.5,2230],[30884.5,256449],[30916,612002],[31059.5,479550]],"maxTotal":2185593,"spread":{"absolute":10.5,"relative":0.034171066869523474}}
    );

    const newOrders2 = parseInitialOrders({
        bidsArr: [[1867.8,33181],[1867.75,2098],[1867.65,9101],[1867.5,7225],[1867.45,600],[1867.4,7433],[1867.35,10163],[1867.25,59630],[1867.2,2987],[1867.15,4044],[1867.05,3819],[1867,5000],[1866.9,61],[1866.85,3972],[1866.8,14335],[1866.75,19000],[1866.7,5006],[1866.55,3854],[1866.4,7624],[1866.35,8842],[1866.3,64],[1866.25,16439],[1866.2,15762],[1866.15,6150],[1865.95,48242],[1865.8,14843],[1865.7,7997],[1865.55,19199],[1865.5,5636],[1865.45,23234],[1865.4,48928],[1864.6,52324],[1864.55,14944],[1863.8,2850],[1862.1,440001],[1861.35,45702],[1855.7,424082],[1851.95,66933],[1830.05,150003],[1826,1],[1824.15,1]],
        asksArr: [[1868.45,1754],[1868.65,1372],[1868.7,600],[1868.75,4285],[1869.15,3842],[1869.3,9039],[1869.35,17834],[1869.6,4504],[1869.75,2500],[1869.8,3027],[1869.85,103443],[1869.95,13249],[1870,5650],[1870.1,4167],[1870.25,12092],[1870.3,8842],[1870.35,3086],[1870.4,15434],[1870.45,37402],[1870.7,12299],[1870.75,4769],[1870.8,1],[1870.85,11481],[1870.95,4994],[1871,100],[1871.1,3805],[1871.25,25943],[1871.3,150000],[1871.35,3895],[1871.4,4182],[1871.5,12493],[1871.55,150000],[1871.6,4225],[1871.65,22785],[1871.7,172384],[1871.8,30000],[1871.9,191023],[1872,114],[1872.1,13074],[1872.15,3085],[1872.2,4129],[1872.3,43848],[1872.45,1200],[1873.3,7049],[1873.55,19199],[1873.65,440001],[1873.7,245987],[1874.6,4100],[1874.65,17832],[1875.45,46268],[1876.75,424082],[1883.05,70401],[1883.1,59999]],
        levelSizeFloat: 0.5,
        maxRows: 36,
    });

    expect(newOrders2).toStrictEqual(
        {"bids":[{"price":1867.8,"size":69801,"total":69801},{"price":1867.25,"size":93848,"total":163649},{"price":1866.75,"size":44390,"total":208039},{"price":1866.25,"size":101436,"total":309475},{"price":1865.7,"size":104994,"total":414469},{"price":1864.6,"size":67268,"total":481737},{"price":1863.8,"size":2850,"total":484587},{"price":1862.1,"size":440001,"total":924588},{"price":1861.35,"size":45702,"total":970290},{"price":1855.7,"size":424082,"total":1394372},{"price":1851.95,"size":66933,"total":1461305},{"price":1830.05,"size":150003,"total":1611308},{"price":1826,"size":1,"total":1611309},{"price":1824.15,"size":1,"total":1611310}],"bidsOriginal":[[1867.8,33181],[1867.75,2098],[1867.65,9101],[1867.5,7225],[1867.45,600],[1867.4,7433],[1867.35,10163],[1867.25,59630],[1867.2,2987],[1867.15,4044],[1867.05,3819],[1867,5000],[1866.9,61],[1866.85,3972],[1866.8,14335],[1866.75,19000],[1866.7,5006],[1866.55,3854],[1866.4,7624],[1866.35,8842],[1866.3,64],[1866.25,16439],[1866.2,15762],[1866.15,6150],[1865.95,48242],[1865.8,14843],[1865.7,7997],[1865.55,19199],[1865.5,5636],[1865.45,23234],[1865.4,48928],[1864.6,52324],[1864.55,14944],[1863.8,2850],[1862.1,440001],[1861.35,45702],[1855.7,424082],[1851.95,66933],[1830.05,150003],[1826,1],[1824.15,1]],"asks":[{"price":1868.45,"size":8011,"total":8011},{"price":1869.15,"size":35219,"total":43230},{"price":1869.75,"size":132036,"total":175266},{"price":1870.25,"size":89155,"total":264421},{"price":1870.75,"size":25150,"total":289571},{"price":1871.25,"size":545907,"total":835478},{"price":1871.8,"size":241425,"total":1076903},{"price":1872.3,"size":45048,"total":1121951},{"price":1873.3,"size":712236,"total":1834187},{"price":1874.6,"size":21932,"total":1856119},{"price":1875.45,"size":46268,"total":1902387},{"price":1876.75,"size":424082,"total":2326469},{"price":1883.05,"size":130400,"total":2456869}],"asksOriginal":[[1868.45,1754],[1868.65,1372],[1868.7,600],[1868.75,4285],[1869.15,3842],[1869.3,9039],[1869.35,17834],[1869.6,4504],[1869.75,2500],[1869.8,3027],[1869.85,103443],[1869.95,13249],[1870,5650],[1870.1,4167],[1870.25,12092],[1870.3,8842],[1870.35,3086],[1870.4,15434],[1870.45,37402],[1870.7,12299],[1870.75,4769],[1870.8,1],[1870.85,11481],[1870.95,4994],[1871,100],[1871.1,3805],[1871.25,25943],[1871.3,150000],[1871.35,3895],[1871.4,4182],[1871.5,12493],[1871.55,150000],[1871.6,4225],[1871.65,22785],[1871.7,172384],[1871.8,30000],[1871.9,191023],[1872,114],[1872.1,13074],[1872.15,3085],[1872.2,4129],[1872.3,43848],[1872.45,1200],[1873.3,7049],[1873.55,19199],[1873.65,440001],[1873.7,245987],[1874.6,4100],[1874.65,17832],[1875.45,46268],[1876.75,424082],[1883.05,70401],[1883.1,59999]],"maxTotal":2456869,"spread":{"absolute":0.650000000000091,"relative":0.03479424556708416}}
    );

    const newOrders3 = parseInitialOrders({
        bidsArr: [[30778.5,1200],[30773,2500],[30771.5,2138],[30771,5827],[30770.5,450],[30770,30000],[30768,5050],[30767.5,1954],[30766.5,5000],[30765,57732],[30764.5,153331],[30764,9774],[30763,1929],[30762.5,104789],[30762,29003],[30761.5,5000],[30760.5,4426],[30759.5,4563],[30759,4875],[30758.5,4416],[30758,4683],[30757.5,20000],[30755.5,8132],[30754,2864],[30752,11086],[30751,15068],[30750,36002],[30748.5,2500],[30745.5,178355],[30744.5,199],[30744,172086],[30742.5,5000],[30741.5,11480],[30740,199],[30739.5,121677],[30739,87249],[30738.5,2500],[30735.5,13021],[30734,24618],[30731.5,250000],[30731,210000],[30727.5,125688],[30720,3030],[30711.5,5520],[30700.5,120000],[30697,56494],[30692.5,500001],[30676.5,19573],[30675,240000],[30664,1030],[30644,228729],[30640.5,10000],[30623.5,1030],[30591,1030],[30275.5,470079],[30275,200003],[30262,150]],
        asksArr: [[30786,334],[30786.5,1725],[30790,3216],[30790.5,7110],[30791.5,50218],[30792.5,4674],[30793,14999],[30797,7179],[30797.5,3700],[30798.5,11034],[30799,4422],[30800.5,60308],[30801,20000],[30802.5,10000],[30803.5,4651],[30804,21223],[30806.5,24563],[30807,30382],[30807.5,2048],[30809,5377],[30810,2500],[30811.5,175200],[30812,7500],[30812.5,1],[30813,20000],[30815,1965],[30816,2953],[30817.5,1952],[30820.5,2300],[30824.5,8856],[30825.5,10134],[30826,120155],[30826.5,250000],[30829,11086],[30829.5,150],[30830,60000],[30830.5,87364],[30832,351007],[30832.5,3054],[30833,22400],[30836.5,256547],[30839,3919],[30841,10134],[30843.5,3099],[30846,640],[30850,6400],[30864,2230],[30865.5,500001],[30874.5,46790],[30882.5,1918],[30901,4230],[30937.5,2230],[30949,272877],[30949.5,612002],[30974.5,2230],[31057,24774],[31066,24767],[31099.5,479528]],
        levelSizeFloat: 10,
        maxRows: 8,
    });

    expect(newOrders3).toStrictEqual(
        {"bids":[{"price":30778.5,"size":42115,"total":42115},{"price":30768,"size":391842,"total":433957},{"price":30758,"size":100335,"total":534292},{"price":30745.5,"size":578745,"total":1113037},{"price":30735.5,"size":623327,"total":1736364},{"price":30720,"size":8550,"total":1744914},{"price":30700.5,"size":676495,"total":2421409},{"price":30676.5,"size":19573,"total":2440982}],"bidsOriginal":[[30778.5,1200],[30773,2500],[30771.5,2138],[30771,5827],[30770.5,450],[30770,30000],[30768,5050],[30767.5,1954],[30766.5,5000],[30765,57732],[30764.5,153331],[30764,9774],[30763,1929],[30762.5,104789],[30762,29003],[30761.5,5000],[30760.5,4426],[30759.5,4563],[30759,4875],[30758.5,4416],[30758,4683],[30757.5,20000],[30755.5,8132],[30754,2864],[30752,11086],[30751,15068],[30750,36002],[30748.5,2500],[30745.5,178355],[30744.5,199],[30744,172086],[30742.5,5000],[30741.5,11480],[30740,199],[30739.5,121677],[30739,87249],[30738.5,2500],[30735.5,13021],[30734,24618],[30731.5,250000],[30731,210000],[30727.5,125688],[30720,3030],[30711.5,5520],[30700.5,120000],[30697,56494],[30692.5,500001],[30676.5,19573],[30675,240000],[30664,1030],[30644,228729],[30640.5,10000],[30623.5,1030],[30591,1030],[30275.5,470079],[30275,200003],[30262,150]],"asks":[{"price":30786,"size":82276,"total":82276},{"price":30797,"size":167080,"total":249356},{"price":30807,"size":247926,"total":497282},{"price":30817.5,"size":393397,"total":890679},{"price":30829,"size":791608,"total":1682287},{"price":30839,"size":17792,"total":1700079},{"price":30850,"size":6400,"total":1706479},{"price":30864,"size":2230,"total":1708709}],"asksOriginal":[[30786,334],[30786.5,1725],[30790,3216],[30790.5,7110],[30791.5,50218],[30792.5,4674],[30793,14999],[30797,7179],[30797.5,3700],[30798.5,11034],[30799,4422],[30800.5,60308],[30801,20000],[30802.5,10000],[30803.5,4651],[30804,21223],[30806.5,24563],[30807,30382],[30807.5,2048],[30809,5377],[30810,2500],[30811.5,175200],[30812,7500],[30812.5,1],[30813,20000],[30815,1965],[30816,2953],[30817.5,1952],[30820.5,2300],[30824.5,8856],[30825.5,10134],[30826,120155],[30826.5,250000],[30829,11086],[30829.5,150],[30830,60000],[30830.5,87364],[30832,351007],[30832.5,3054],[30833,22400],[30836.5,256547],[30839,3919],[30841,10134],[30843.5,3099],[30846,640],[30850,6400],[30864,2230],[30865.5,500001],[30874.5,46790],[30882.5,1918],[30901,4230],[30937.5,2230],[30949,272877],[30949.5,612002],[30974.5,2230],[31057,24774],[31066,24767],[31099.5,479528]],"maxTotal":2440982,"spread":{"absolute":7.5,"relative":0.024364690690251687}}
    );
});


test('validates parseOrdersDelta', () => {
    const newOrders1 = parseOrdersDelta({
        orders: {"bids":[{"price":30746,"size":334,"total":334},{"price":30745,"size":1200,"total":1534},{"price":30742,"size":5377,"total":6911},{"price":30741,"size":450,"total":7361},{"price":30740,"size":446,"total":7807},{"price":30736.5,"size":9522,"total":17329},{"price":30735.5,"size":35050,"total":52379},{"price":30734.5,"size":9007,"total":61386},{"price":30733,"size":10965,"total":72351},{"price":30731,"size":9810,"total":82161},{"price":30730,"size":6506,"total":88667},{"price":30727.5,"size":79216,"total":167883},{"price":30726,"size":54560,"total":222443},{"price":30723.5,"size":179304,"total":401747},{"price":30722,"size":70198,"total":471945},{"price":30720.5,"size":8495,"total":480440},{"price":30719.5,"size":20000,"total":500440},{"price":30717.5,"size":14130,"total":514570},{"price":30716,"size":9651,"total":524221},{"price":30713,"size":5165,"total":529386},{"price":30712,"size":139927,"total":669313},{"price":30710.5,"size":4578,"total":673891},{"price":30709.5,"size":78526,"total":752417},{"price":30708,"size":10576,"total":762993},{"price":30707,"size":23999,"total":786992},{"price":30706,"size":29599,"total":816591},{"price":30705,"size":353368,"total":1169959},{"price":30704,"size":300000,"total":1469959},{"price":30702,"size":16630,"total":1486589},{"price":30700.5,"size":3012,"total":1489601},{"price":30699.5,"size":150000,"total":1639601},{"price":30697.5,"size":20000,"total":1659601}],"bidsOriginal":[[30746,334],[30745,1200],[30742,5377],[30741,450],[30740,446],[30736.5,4522],[30736,5000],[30735.5,30000],[30735,5050],[30734.5,4563],[30734,4444],[30733,4409],[30732.5,6556],[30731,9810],[30730,6506],[30727.5,79216],[30726,54560],[30723.5,179304],[30722,11086],[30721.5,59112],[30720.5,8495],[30719.5,20000],[30717.5,14130],[30716,9651],[30713,2058],[30712.5,3107],[30712,117558],[30711.5,22369],[30710.5,2500],[30710,2078],[30709.5,8856],[30709,69670],[30708,10576],[30707,23999],[30706,5000],[30705.5,24599],[30705,20000],[30704.5,333368],[30704,150000],[30703.5,150000],[30702,16630],[30700.5,3012],[30699.5,150000],[30697.5,20000],[30695.5,61999],[30692,20000],[30691.5,250000],[30688.5,3117],[30686,45990],[30683.5,2400],[30682.5,321917],[30676.5,18773],[30676,120000],[30671.5,2920],[30670,500001],[30669.5,47999],[30665.5,8422],[30663.5,107621],[30660.5,345237],[30657,3090],[30648,9536],[30644.5,1045],[30643.5,222759],[30642.5,100000],[30641.5,240000],[30640.5,10000],[30640,100000],[30634,298795],[30600,1020],[30578,612002],[30577.5,283511],[30570,25147],[30561,25154],[30554.5,76019],[30518,3000],[30508,1020],[30463.5,1020],[30379.5,1],[30364,200003],[30363.5,470230],[30349.5,1],[30300,1000],[30294,1500],[30262,150]],"asks":[{"price":30753,"size":139801,"total":139801},{"price":30754,"size":7543,"total":147344},{"price":30757,"size":52958,"total":200302},{"price":30759,"size":9999,"total":210301},{"price":30762.5,"size":9348,"total":219649},{"price":30763.5,"size":6426,"total":226075},{"price":30764.5,"size":4845,"total":230920},{"price":30766.5,"size":24787,"total":255707},{"price":30767.5,"size":5000,"total":260707},{"price":30768.5,"size":9240,"total":269947},{"price":30770,"size":213247,"total":483194},{"price":30772,"size":30382,"total":513576},{"price":30773,"size":26839,"total":540415},{"price":30774.5,"size":25573,"total":565988},{"price":30776,"size":1979,"total":567967},{"price":30777,"size":24563,"total":592530},{"price":30778,"size":9527,"total":602057},{"price":30781,"size":5377,"total":607434},{"price":30783,"size":1,"total":607435},{"price":30784,"size":13890,"total":621325},{"price":30786,"size":24682,"total":646007},{"price":30790,"size":134391,"total":780398},{"price":30791.5,"size":221984,"total":1002382},{"price":30792.5,"size":24565,"total":1026947},{"price":30794.5,"size":60000,"total":1086947},{"price":30797.5,"size":80860,"total":1167807},{"price":30799,"size":8856,"total":1176663},{"price":30800,"size":11086,"total":1187749},{"price":30805,"size":13985,"total":1201734},{"price":30806,"size":2003,"total":1203737},{"price":30807,"size":150718,"total":1354455},{"price":30808.5,"size":250000,"total":1604455}],"asksOriginal":[[30753,139801],[30754,7543],[30757,52748],[30757.5,210],[30759,9999],[30762.5,3482],[30763,5866],[30763.5,4430],[30764,1996],[30764.5,4845],[30766.5,4787],[30767,20000],[30767.5,5000],[30768.5,4592],[30769,4648],[30770,57520],[30770.5,155727],[30772,382],[30772.5,30000],[30773,10228],[30773.5,16611],[30774.5,3073],[30775,22500],[30776,1979],[30777,20000],[30777.5,4563],[30778,9527],[30781,5377],[30783,1],[30784,13890],[30786,20000],[30786.5,4682],[30790,134391],[30791.5,106547],[30792,115437],[30792.5,21524],[30793,3041],[30794.5,60000],[30797.5,2500],[30798,78360],[30799,8856],[30800,11086],[30805,13985],[30806,2003],[30807,180],[30807.5,150538],[30808.5,250000],[30811.5,175200],[30812,26876],[30813.5,22369],[30814,1],[30819,8407],[30824.5,200],[30825.5,48952],[30829.5,282220],[30832,500001],[30832.5,120000],[30833,76863],[30838,800],[30840,3084],[30841,2230],[30841.5,3077],[30846,640],[30847,993],[30848.5,47999],[30850,240000],[30850.5,1950],[30887,2230],[30901,2000],[30905,251503],[30905.5,612002],[30926.5,2230],[30948,74999],[30972,2230],[30987.5,100],[30995.5,3000],[31021.5,24777],[31030.5,24770],[31059.5,479669],[31099,205],[31099.5,200003]],"maxTotal":1659601,"spread":{"absolute":7,"relative":0.022764597798338185}},
        deltas: {"bids":[[30577.5,0],[30578.5,280958],[30363.5,0],[30364.5,470218],[30712,116665],[30727.5,79374],[30733,4409],[30727,3863],[30727.5,0],[30736,63492],[30364,0],[30365,200003],[30578,0],[30579,612002],[30651.5,1910],[30685,1989],[30693,1952],[30705,22029],[30706,0],[30707,28999],[30713,4071],[30721,2096],[30726,4560],[30727,53863],[30741,5827],[30742,0],[30743,0],[30746,0],[30712,117318],[30364.5,470226],[30578.5,281774],[30685,0],[30705,20000],[30721,0],[30736,63411],[30651.5,0],[30735,0],[30738,5050],[30364.5,0],[30365.5,470226],[30578.5,0],[30579,0],[30579.5,280336],[30580,612002],[30693,0],[30713,2058],[30731,14810],[30736,63412],[30738,7550],[30721,11086],[30722,0],[30365,0],[30366,200003],[30579.5,0],[30580,0],[30580.5,278898],[30581,612002],[30707,23999],[30710.5,7500],[30712,117319],[30727,3863],[30730.5,0],[30731,64810],[30710.5,2500],[30711,5000],[30735,1989],[30365.5,470235],[30580.5,279670],[30710.5,7500],[30711,0],[30712,117937],[30731,59810],[30736,64831],[30738,5050],[30740,2946],[30741,450],[30742,5377],[30723.5,181215],[30707.5,1960],[30687.5,2035],[30365.5,0],[30366.5,470246],[30580.5,0],[30581.5,279315],[30654,1965],[30695.5,64053],[30710.5,2500],[30711,5000],[30712,118804],[30715.5,1998],[30721,0],[30722,11086],[30734.5,9563],[30736,66820],[30740,446],[30741,5827],[30741.5,2500],[30742,0],[30710.5,7500],[30711,0],[30366,0],[30366.5,470235],[30367,200003],[30581,0],[30581.5,278256],[30582,612002],[30710.5,2500],[30712,117956],[30713.5,5000],[30720.5,19581],[30722,0],[30731,9810],[30733.5,50000],[30736,64874],[30691.5,0],[30704,400000],[30366.5,470237],[30581.5,278468],[30654,0],[30687.5,0],[30695.5,61999],[30707.5,0],[30710.5,7500],[30712,118126],[30713.5,0],[30714,0],[30715.5,0],[30723.5,179304],[30731,59810],[30733.5,0],[30734,4444],[30735,0],[30736,65265],[30741,450],[30742,5377],[30561,0],[30573.5,25144],[30582.5,25136],[30570,0],[30366.5,0],[30367.5,470246],[30581.5,0],[30582.5,303032],[30712,118819],[30720.5,8495],[30722.5,11086],[30730.5,50000],[30731,9810],[30732.5,4509],[30735,2069],[30736,66855],[30747,1838],[30748,334]],"asks":[[30757.5,0],[30759,0],[30760,210],[30761.5,9999],[30764,1996],[30770,57361],[30792,115367],[31059.5,479670],[31059.5,0],[31099,479884],[30770,0],[30772,61464],[30752,334],[30753,141857],[30760,0],[30761.5,0],[30762,210],[30763.5,14429],[30770.5,157691],[30775,24556],[30779.5,1938],[30780,5377],[30781,0],[30786,22019],[30809,1987],[30836.5,2037],[30904.5,612002],[30905.5,0],[31098.5,200003],[31099.5,0],[30761.5,9999],[30763.5,4430],[30760,210],[30762,0],[30792,114707],[30770.5,155727],[30772,61545],[30779.5,0],[30786,20000],[30809,0],[30905,250664],[30836.5,0],[30761,2500],[30767.5,10000],[30775,22500],[30903.5,612002],[30904,249181],[30904.5,0],[30905,0],[31097.5,200003],[31098,479679],[31098.5,0],[31099,205],[30760,0],[30760,535],[30799,19942],[30800,0],[30753,0],[30754,0],[30758.5,0],[30760,0],[30760.5,0],[30761.5,0],[30762,0],[30763,5866],[30763.5,4430],[30764.5,15379],[30799,8856],[30800,11086],[30902.5,612002],[30903,247699],[30903.5,0],[30904,0],[31096.5,200003],[31097,479679],[31097.5,0],[31098,0],[30764.5,5380],[30766,9999],[30766.5,6860],[30759,535],[30760.5,0],[30761,0],[30762,9999],[30763.5,6930],[30764.5,4845],[30766,0],[30772,60121],[30773,0],[30792,538],[30794,115878],[30797.5,252500],[30808.5,0],[30903,246903],[31097,479687],[30760.5,9999],[30762,0],[30759,0],[30760.5,0],[30766.5,6860],[30767.5,5000],[30768,9999],[30771.5,5000],[30772,58124],[30773,1971],[30777.5,6625],[30781.5,2010],[30788,1942],[30794,115001],[30799,19942],[30800,0],[30811,2097],[30839,1997],[30902,244361],[30903,0],[31096,479699],[31097,0],[30797.5,2500],[30809,250000],[30761.5,9999],[30768,0],[30757,4674],[30772,59695],[30775,22882],[30780,0],[30781,5377],[30794,115859],[30799,8856],[30801,11086],[30901.5,612002],[30902,245452],[30902.5,0],[31095.5,200003],[31096,479688],[31096.5,0],[30809,0],[30799,258856],[30758.5,62858],[30761.5,0],[30765.5,9999],[30766.5,4787],[30772,59303],[30773,0],[30777.5,4563],[30781.5,0],[30784,1965],[30788,0],[30794,115686],[30811,0],[30839,0],[30902,245233],[31096,479690],[30752,0],[30757,0],[30757.5,1774],[30758.5,67532],[30759,6795],[30764,11995],[30765.5,0],[30772,57708],[30794,114986],[30799.5,11086],[30801,0],[30901,244805],[30902,55],[31095,479699],[31096,0]]},
        levelSizeFloat: 1,
        maxRows: 32,
    });

    expect(newOrders1).toStrictEqual(
        {"bids":[{"price":30748,"size":334,"total":334},{"price":30747,"size":1838,"total":2172},{"price":30745,"size":1200,"total":3372},{"price":30742,"size":7877,"total":11249},{"price":30741,"size":450,"total":11699},{"price":30740,"size":446,"total":12145},{"price":30738,"size":5050,"total":17195},{"price":30736.5,"size":71377,"total":88572},{"price":30735.5,"size":32069,"total":120641},{"price":30734.5,"size":14007,"total":134648},{"price":30733,"size":8918,"total":143566},{"price":30731,"size":59810,"total":203376},{"price":30730,"size":6506,"total":209882},{"price":30727,"size":3863,"total":213745},{"price":30726,"size":4560,"total":218305},{"price":30723.5,"size":179304,"total":397609},{"price":30722.5,"size":11086,"total":408695},{"price":30721.5,"size":59112,"total":467807},{"price":30720.5,"size":8495,"total":476302},{"price":30719.5,"size":20000,"total":496302},{"price":30717.5,"size":14130,"total":510432},{"price":30716,"size":9651,"total":520083},{"price":30713,"size":5165,"total":525248},{"price":30712,"size":141188,"total":666436},{"price":30710.5,"size":9578,"total":676014},{"price":30709.5,"size":78526,"total":754540},{"price":30708,"size":10576,"total":765116},{"price":30707,"size":23999,"total":789115},{"price":30705.5,"size":44599,"total":833714},{"price":30704.5,"size":733368,"total":1567082},{"price":30703.5,"size":150000,"total":1717082},{"price":30702,"size":16630,"total":1733712}],"bidsOriginal":[[30748,334],[30747,1838],[30745,1200],[30742,5377],[30741.5,2500],[30741,450],[30740,446],[30738,5050],[30736.5,4522],[30736,66855],[30735.5,30000],[30735,2069],[30734.5,9563],[30734,4444],[30733,4409],[30732.5,4509],[30731,9810],[30730.5,50000],[30730,6506],[30727,3863],[30726,4560],[30723.5,179304],[30722.5,11086],[30721.5,59112],[30720.5,8495],[30719.5,20000],[30717.5,14130],[30716,9651],[30713,2058],[30712.5,3107],[30712,118819],[30711.5,22369],[30710.5,7500],[30710,2078],[30709.5,8856],[30709,69670],[30708,10576],[30707,23999],[30705.5,24599],[30705,20000],[30704.5,333368],[30704,400000],[30703.5,150000],[30702,16630],[30700.5,3012],[30699.5,150000],[30697.5,20000],[30695.5,61999],[30692,20000],[30688.5,3117],[30686,45990],[30683.5,2400],[30682.5,321917],[30676.5,18773],[30676,120000],[30671.5,2920],[30670,500001],[30669.5,47999],[30665.5,8422],[30663.5,107621],[30660.5,345237],[30657,3090],[30648,9536],[30644.5,1045],[30643.5,222759],[30642.5,100000],[30641.5,240000],[30640.5,10000],[30640,100000],[30634,298795],[30600,1020],[30582.5,303032],[30582,612002],[30573.5,25144],[30554.5,76019],[30518,3000],[30508,1020],[30463.5,1020],[30379.5,1],[30367.5,470246],[30367,200003],[30349.5,1],[30300,1000],[30294,1500],[30262,150]],"asks":[{"price":30757.5,"size":1774,"total":1774},{"price":30758.5,"size":74327,"total":76101},{"price":30762.5,"size":9348,"total":85449},{"price":30763.5,"size":18925,"total":104374},{"price":30764.5,"size":4845,"total":109219},{"price":30766.5,"size":24787,"total":134006},{"price":30767.5,"size":5000,"total":139006},{"price":30768.5,"size":9240,"total":148246},{"price":30770.5,"size":155727,"total":303973},{"price":30771.5,"size":62708,"total":366681},{"price":30772.5,"size":30000,"total":396681},{"price":30773.5,"size":16611,"total":413292},{"price":30774.5,"size":25955,"total":439247},{"price":30776,"size":1979,"total":441226},{"price":30777,"size":24563,"total":465789},{"price":30778,"size":9527,"total":475316},{"price":30781,"size":5377,"total":480693},{"price":30783,"size":1,"total":480694},{"price":30784,"size":1965,"total":482659},{"price":30786,"size":24682,"total":507341},{"price":30790,"size":134391,"total":641732},{"price":30791.5,"size":107085,"total":748817},{"price":30792.5,"size":24565,"total":773382},{"price":30794,"size":174986,"total":948368},{"price":30797.5,"size":80860,"total":1029228},{"price":30799,"size":269942,"total":1299170},{"price":30805,"size":13985,"total":1313155},{"price":30806,"size":2003,"total":1315158},{"price":30807,"size":150718,"total":1465876},{"price":30811.5,"size":202076,"total":1667952},{"price":30813.5,"size":22370,"total":1690322},{"price":30819,"size":8407,"total":1698729}],"asksOriginal":[[30757.5,1774],[30758.5,67532],[30759,6795],[30762.5,3482],[30763,5866],[30763.5,6930],[30764,11995],[30764.5,4845],[30766.5,4787],[30767,20000],[30767.5,5000],[30768.5,4592],[30769,4648],[30770.5,155727],[30771.5,5000],[30772,57708],[30772.5,30000],[30773.5,16611],[30774.5,3073],[30775,22882],[30776,1979],[30777,20000],[30777.5,4563],[30778,9527],[30781,5377],[30783,1],[30784,1965],[30786,20000],[30786.5,4682],[30790,134391],[30791.5,106547],[30792,538],[30792.5,21524],[30793,3041],[30794,114986],[30794.5,60000],[30797.5,2500],[30798,78360],[30799,258856],[30799.5,11086],[30805,13985],[30806,2003],[30807,180],[30807.5,150538],[30811.5,175200],[30812,26876],[30813.5,22369],[30814,1],[30819,8407],[30824.5,200],[30825.5,48952],[30829.5,282220],[30832,500001],[30832.5,120000],[30833,76863],[30838,800],[30840,3084],[30841,2230],[30841.5,3077],[30846,640],[30847,993],[30848.5,47999],[30850,240000],[30850.5,1950],[30887,2230],[30901,244805],[30901.5,612002],[30902,55],[30926.5,2230],[30948,74999],[30972,2230],[30987.5,100],[30995.5,3000],[31021.5,24777],[31030.5,24770],[31095,479699],[31095.5,200003],[31099,205]],"maxTotal":1733712,"spread":{"absolute":9.5,"relative":0.030891546284478627}}
    );

    const newOrders2 = parseOrdersDelta({
        orders: {"bids":[{"price":1864.45,"size":2029,"total":2029},{"price":1864.25,"size":8423,"total":10452},{"price":1864.2,"size":25636,"total":36088},{"price":1864.1,"size":2861,"total":38949},{"price":1864.05,"size":8385,"total":47334},{"price":1863.9,"size":9065,"total":56399},{"price":1863.8,"size":5250,"total":61649},{"price":1863.75,"size":2785,"total":64434},{"price":1863.7,"size":3942,"total":68376},{"price":1863.6,"size":7079,"total":75455},{"price":1863.55,"size":4725,"total":80180},{"price":1863.5,"size":7500,"total":87680},{"price":1863.4,"size":6552,"total":94232},{"price":1863.35,"size":3908,"total":98140},{"price":1863.3,"size":62,"total":98202},{"price":1863.25,"size":10294,"total":108496}],"bidsOriginal":[[1864.45,2029],[1864.25,8423],[1864.2,25636],[1864.1,2861],[1864.05,8385],[1863.9,9065],[1863.8,5250],[1863.75,2785],[1863.7,3942],[1863.6,7079],[1863.55,4725],[1863.5,7500],[1863.4,6552],[1863.35,3908],[1863.3,62],[1863.25,10294],[1863.2,95021],[1863.05,4099],[1863,4113],[1862.95,5661],[1862.85,13842],[1862.7,15061],[1862.55,6490],[1862.45,26549],[1862.35,62682],[1862.2,5009],[1862.1,5721],[1862,7500],[1861.75,3888],[1861.7,21561],[1861.65,179256],[1861.6,22452],[1861.55,48242],[1861.35,48928],[1861.1,30000],[1861.05,19199],[1858.75,440001],[1858.7,60000],[1857.8,45022],[1855.4,424802],[1851.05,2500],[1851,66923],[1826,1],[1824.15,1]],"asks":[{"price":1865.2,"size":600,"total":600},{"price":1865.25,"size":1450,"total":2050},{"price":1865.35,"size":15000,"total":17050},{"price":1865.45,"size":1917,"total":18967},{"price":1865.65,"size":5678,"total":24645},{"price":1865.7,"size":58786,"total":83431},{"price":1865.8,"size":2500,"total":85931},{"price":1866.1,"size":5550,"total":91481},{"price":1866.3,"size":14402,"total":105883},{"price":1866.35,"size":10474,"total":116357},{"price":1866.4,"size":98439,"total":214796},{"price":1866.5,"size":3832,"total":218628},{"price":1866.6,"size":23859,"total":242487},{"price":1866.65,"size":4996,"total":247483},{"price":1866.75,"size":3837,"total":251320},{"price":1866.8,"size":1,"total":251321}],"asksOriginal":[[1865.2,600],[1865.25,1450],[1865.35,15000],[1865.45,1917],[1865.65,5678],[1865.7,58786],[1865.8,2500],[1866.1,5550],[1866.3,14402],[1866.35,10474],[1866.4,98439],[1866.5,3832],[1866.6,23859],[1866.65,4996],[1866.75,3837],[1866.8,1],[1866.9,63],[1866.95,3852],[1867,3956],[1867.05,223],[1867.2,154995],[1867.3,60],[1867.4,3880],[1867.45,17862],[1867.5,30000],[1867.6,7802],[1867.7,150000],[1867.75,154993],[1867.8,7500],[1867.85,8903],[1868,27444],[1868.05,100030],[1868.25,61],[1868.3,22324],[1868.35,4139],[1868.45,3854],[1868.5,14182],[1868.65,5247],[1868.95,3918],[1869.7,443201],[1869.9,60000],[1871.45,4073],[1871.85,45655],[1874.05,424802],[1880.4,67895]],"maxTotal":251321,"spread":{"absolute":0.75,"relative":0.040218251042323}},
        deltas: {"bids":[[1861.7,0],[1862.4,15940],[1861.7,22013],[1862.4,0],[1864.1,8497],[1864.2,20000],[1864.1,2861],[1864.2,25636],[1863.25,10485],[1851,66924],[1857.8,45131],[1861.6,22642],[1861.7,21847],[1862.95,0],[1863.25,10292],[1851,66923],[1857.8,45021],[1861.6,22449],[1861.7,21557],[1861.4,23582],[1861.6,0],[1864.05,28385],[1864.2,5636],[1864.05,34021],[1864.2,0],[1851,66922],[1857.8,44959],[1861.4,23539],[1861.7,21394],[1863.25,10183],[1864.45,0],[1864.05,14021],[1864.15,20000],[1864.05,8385],[1864.15,25636],[1863.9,4952],[1864.05,4368],[1851,66924],[1857.8,45094],[1858.3,14874],[1861.4,0],[1861.6,22577],[1861.7,21750],[1863.1,3972],[1863.25,10420],[1863.5,11647],[1863.8,5250],[1863.85,25636],[1863.95,0],[1864.05,2851],[1864.15,0],[1864.25,4504],[1863.75,8421],[1863.85,20000],[1863.75,2785],[1863.85,25636],[1857.45,45173],[1857.8,0],[1861.15,23322],[1861.6,0],[1862.9,10567],[1863.25,0],[1863.85,5636],[1863.95,20000]],"asks":[[1866.3,4188],[1866.55,11262],[1868,4711],[1868.25,23846],[1866.35,20687],[1866.55,0],[1868,27447],[1868.25,61],[1866.3,14404],[1866.35,10474],[1866.5,0],[1866.3,8347],[1866.35,20835],[1865.7,3980],[1867.45,17574],[1868,27252],[1865.8,55296],[1866.35,20798],[1871.85,45545],[1880.4,67896],[1866.3,18563],[1866.35,10474],[1867.45,17866],[1868,27447],[1871.85,45657],[1880.4,67894],[1865.5,4754],[1866.3,18673],[1867.45,18030],[1868,27557],[1871.85,45720],[1865.85,0],[1866.3,4188],[1866.35,20863],[1867.05,0],[1867.45,17672],[1867.6,11603],[1868,27317],[1868.45,0],[1871.85,45582],[1880.4,67895],[1865.8,52796],[1865.65,8178],[1866.3,16240],[1866.35,10474],[1867.15,17904],[1867.45,0],[1867.7,172760],[1868,4711],[1871.65,46017],[1871.85,0]]},
        levelSizeFloat: 0.05,
        maxRows: 16,
    });

    expect(newOrders2).toStrictEqual(
        {"bids":[{"price":1864.25,"size":4504,"total":4504},{"price":1864.1,"size":2861,"total":7365},{"price":1864.05,"size":2851,"total":10216},{"price":1863.95,"size":20000,"total":30216},{"price":1863.9,"size":4952,"total":35168},{"price":1863.85,"size":5636,"total":40804},{"price":1863.8,"size":5250,"total":46054},{"price":1863.75,"size":2785,"total":48839},{"price":1863.7,"size":3942,"total":52781},{"price":1863.6,"size":7079,"total":59860},{"price":1863.55,"size":4725,"total":64585},{"price":1863.5,"size":11647,"total":76232},{"price":1863.4,"size":6552,"total":82784},{"price":1863.35,"size":3908,"total":86692},{"price":1863.3,"size":62,"total":86754},{"price":1863.2,"size":95021,"total":181775}],"bidsOriginal":[[1864.25,4504],[1864.1,2861],[1864.05,2851],[1863.95,20000],[1863.9,4952],[1863.85,5636],[1863.8,5250],[1863.75,2785],[1863.7,3942],[1863.6,7079],[1863.55,4725],[1863.5,11647],[1863.4,6552],[1863.35,3908],[1863.3,62],[1863.2,95021],[1863.1,3972],[1863.05,4099],[1863,4113],[1862.9,10567],[1862.85,13842],[1862.7,15061],[1862.55,6490],[1862.45,26549],[1862.35,62682],[1862.2,5009],[1862.1,5721],[1862,7500],[1861.75,3888],[1861.7,21750],[1861.65,179256],[1861.55,48242],[1861.35,48928],[1861.15,23322],[1861.1,30000],[1861.05,19199],[1858.75,440001],[1858.7,60000],[1858.3,14874],[1857.45,45173],[1855.4,424802],[1851.05,2500],[1851,66924],[1826,1],[1824.15,1]],"asks":[{"price":1865.2,"size":600,"total":600},{"price":1865.25,"size":1450,"total":2050},{"price":1865.35,"size":15000,"total":17050},{"price":1865.45,"size":1917,"total":18967},{"price":1865.5,"size":4754,"total":23721},{"price":1865.65,"size":8178,"total":31899},{"price":1865.7,"size":3980,"total":35879},{"price":1865.8,"size":52796,"total":88675},{"price":1866.1,"size":5550,"total":94225},{"price":1866.3,"size":16240,"total":110465},{"price":1866.35,"size":10474,"total":120939},{"price":1866.4,"size":98439,"total":219378},{"price":1866.6,"size":23859,"total":243237},{"price":1866.65,"size":4996,"total":248233},{"price":1866.75,"size":3837,"total":252070},{"price":1866.8,"size":1,"total":252071}],"asksOriginal":[[1865.2,600],[1865.25,1450],[1865.35,15000],[1865.45,1917],[1865.5,4754],[1865.65,8178],[1865.7,3980],[1865.8,52796],[1866.1,5550],[1866.3,16240],[1866.35,10474],[1866.4,98439],[1866.6,23859],[1866.65,4996],[1866.75,3837],[1866.8,1],[1866.9,63],[1866.95,3852],[1867,3956],[1867.15,17904],[1867.2,154995],[1867.3,60],[1867.4,3880],[1867.5,30000],[1867.6,11603],[1867.7,172760],[1867.75,154993],[1867.8,7500],[1867.85,8903],[1868,4711],[1868.05,100030],[1868.25,61],[1868.3,22324],[1868.35,4139],[1868.5,14182],[1868.65,5247],[1868.95,3918],[1869.7,443201],[1869.9,60000],[1871.45,4073],[1871.65,46017],[1874.05,424802],[1880.4,67895]],"maxTotal":252071,"spread":{"absolute":0.9500000000000455,"relative":0.05094584992425401}}
    );

    const newOrders3 = parseOrdersDelta({
        orders: {"bids":[{"price":1863.2,"size":98699,"total":98699},{"price":1862.15,"size":236651,"total":335350},{"price":1861.1,"size":149467,"total":484817},{"price":1860,"size":175126,"total":659943},{"price":1858.65,"size":474074,"total":1134017},{"price":1857.25,"size":60000,"total":1194017},{"price":1855.65,"size":578109,"total":1772126},{"price":1849.5,"size":66925,"total":1839051},{"price":1824.15,"size":1,"total":1839052}],"bidsOriginal":[[1863.2,1835],[1863.1,20000],[1863,3644],[1862.9,6251],[1862.75,10977],[1862.7,2838],[1862.55,3038],[1862.5,9566],[1862.45,5763],[1862.4,34725],[1862.3,62],[1862.15,10261],[1862.1,15000],[1862.05,8842],[1862,123703],[1861.9,60],[1861.75,48668],[1861.55,229],[1861.3,64],[1861.25,22324],[1861.2,7500],[1861.1,5010],[1861.05,17461],[1861,62282],[1860.9,100],[1860.55,5009],[1860.5,5382],[1860.2,24223],[1860.15,30000],[1860,13016],[1859.7,14907],[1859.4,6473],[1859.35,140730],[1858.65,19199],[1858.3,14874],[1857.8,440001],[1857.25,60000],[1855.65,48581],[1855.6,104726],[1855.4,424802],[1849.5,66925],[1824.15,1]],"asks":[{"price":1863.8,"size":86030,"total":86030},{"price":1864.8,"size":140252,"total":226282},{"price":1865.8,"size":212658,"total":438940},{"price":1866.85,"size":10104,"total":449044},{"price":1868,"size":215040,"total":664084},{"price":1869,"size":835042,"total":1499126},{"price":1871.1,"size":91872,"total":1590998},{"price":1874.05,"size":424802,"total":2015800},{"price":1877.55,"size":127895,"total":2143695}],"asksOriginal":[[1863.8,5000],[1864,510],[1864.2,1547],[1864.3,2233],[1864.6,11046],[1864.65,59788],[1864.75,5906],[1864.8,94012],[1865.3,10795],[1865.35,7717],[1865.55,9820],[1865.65,7500],[1865.7,10408],[1865.8,2978],[1865.85,60],[1865.9,7518],[1866.1,18441],[1866.25,16928],[1866.3,14536],[1866.35,4567],[1866.4,93439],[1866.6,49199],[1866.65,4992],[1866.85,61],[1867.15,8842],[1867.4,1],[1867.45,1200],[1868,29386],[1868.05,100030],[1868.3,25524],[1868.45,60000],[1868.65,100],[1869,483849],[1869.05,109757],[1869.25,400],[1869.75,241036],[1871.1,46878],[1871.15,38399],[1871.35,6595],[1874.05,424802],[1877.55,67896],[1877.6,59999]],"maxTotal":2143695,"spread":{"absolute":0.599999999999909,"relative":0.032197477864229086}},
        deltas: {"bids":[[1862.15,10262],[1861.05,17462],[1863.1,0],[1863.2,21835],[1860.35,48928],[1860.7,48242],[1863,0],[1863.15,3644],[1862.15,10237],[1861.05,17425],[1849.5,66924],[1855.65,48567],[1860.2,24199],[1863,2500],[1860.2,0],[1860.4,23044],[1824.15,0],[1855.65,48518],[1860.4,22913],[1861.05,17294],[1862.15,10149],[1862.5,4566],[1862.7,7838],[1863,0],[1861.2,0],[1855.65,48543],[1860.4,22957],[1861.05,17360],[1861.55,0],[1862.15,10194],[1861.55,232],[1855.65,0],[1856.8,44786],[1862.15,10455],[1849.5,66926],[1860.4,23218],[1861.05,17752],[1855.65,48592],[1856.8,0],[1861.55,0],[1861.55,322],[1862.15,10260],[1849.5,66924],[1855.65,48580],[1860.4,23023],[1861.05,17459],[1861.75,0],[1862.3,62],[1862.35,0],[1862.4,34725],[1862.8,0],[1862.85,0],[1862.95,0],[1863,0],[1863.05,0],[1863.1,0],[1863.15,3644],[1863.2,21835],[1862.15,10216]],"asks":[[1871.1,46877],[1866.05,150000],[1866.3,164536],[1866.55,150000],[1865.3,10820],[1866.25,16965],[1868,29410],[1871.1,46892],[1864.35,2500],[1865.3,10908],[1866.25,17097],[1868,29499],[1871.1,46942],[1865.9,2810],[1865.3,10863],[1866.25,17030],[1868,29454],[1871.1,46917],[1865.3,10601],[1866.25,16635],[1868,29190],[1871.1,46765],[1877.55,67898],[1865.3,10600],[1866.1,4994],[1866.1,18441],[1865.3,10797],[1866.25,16930],[1864.65,18990],[1868,29388],[1871.1,46878],[1877.55,67896]]},
        levelSizeFloat: 1,
        maxRows: 50,
    });

    expect(newOrders3).toStrictEqual(
        {"bids":[{"price":1863.2,"size":98699,"total":98699},{"price":1862.15,"size":180531,"total":279230},{"price":1861.1,"size":245435,"total":524665},{"price":1860,"size":175126,"total":699791},{"price":1858.65,"size":474074,"total":1173865},{"price":1857.25,"size":60000,"total":1233865},{"price":1855.65,"size":578108,"total":1811973},{"price":1849.5,"size":66924,"total":1878897}],"bidsOriginal":[[1863.2,21835],[1863.15,3644],[1862.9,6251],[1862.75,10977],[1862.7,7838],[1862.55,3038],[1862.5,4566],[1862.45,5763],[1862.4,34725],[1862.3,62],[1862.15,10216],[1862.1,15000],[1862.05,8842],[1862,123703],[1861.9,60],[1861.55,322],[1861.3,64],[1861.25,22324],[1861.1,5010],[1861.05,17459],[1861,62282],[1860.9,100],[1860.7,48242],[1860.55,5009],[1860.5,5382],[1860.4,23023],[1860.35,48928],[1860.15,30000],[1860,13016],[1859.7,14907],[1859.4,6473],[1859.35,140730],[1858.65,19199],[1858.3,14874],[1857.8,440001],[1857.25,60000],[1855.65,48580],[1855.6,104726],[1855.4,424802],[1849.5,66924]],"asks":[{"price":1863.8,"size":47732,"total":47732},{"price":1864.8,"size":140254,"total":187986},{"price":1865.8,"size":657952,"total":845938},{"price":1866.85,"size":10104,"total":856042},{"price":1868,"size":215042,"total":1071084},{"price":1869,"size":835042,"total":1906126},{"price":1871.1,"size":91872,"total":1997998},{"price":1874.05,"size":424802,"total":2422800},{"price":1877.55,"size":127895,"total":2550695}],"asksOriginal":[[1863.8,5000],[1864,510],[1864.2,1547],[1864.3,2233],[1864.35,2500],[1864.6,11046],[1864.65,18990],[1864.75,5906],[1864.8,94012],[1865.3,10797],[1865.35,7717],[1865.55,9820],[1865.65,7500],[1865.7,10408],[1865.8,2978],[1865.85,60],[1865.9,2810],[1866.05,150000],[1866.1,18441],[1866.25,16930],[1866.3,164536],[1866.35,4567],[1866.4,93439],[1866.55,150000],[1866.6,49199],[1866.65,4992],[1866.85,61],[1867.15,8842],[1867.4,1],[1867.45,1200],[1868,29388],[1868.05,100030],[1868.3,25524],[1868.45,60000],[1868.65,100],[1869,483849],[1869.05,109757],[1869.25,400],[1869.75,241036],[1871.1,46878],[1871.15,38399],[1871.35,6595],[1874.05,424802],[1877.55,67896],[1877.6,59999]],"maxTotal":2550695,"spread":{"absolute":0.599999999999909,"relative":0.032197477864229086}}
    );
});

